<!DOCTYPE html>
<html lang="en">
<head>

    <title>Call Power Automate Flow</title>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback" async defer></script>
    <script>
        function onloadCallback() {
            grecaptcha.render('g-recaptcha',
                {
                    sitekey: '{sitekey}',
                });
        }
    </script>
</head>
<body>
    <h2>Trigger Power Automate Flow</h2>
    <button onclick="callFlow()">Send Request</button>
    <p id="response"></p>
    <div data-form-id='f381cbbb-9f2f-f011-8c4d-6045bdeedf2c'
         data-form-api-url='https://public-usa.mkt.dynamics.com/api/v1.0/orgs/a5c45657-1ed4-ef11-b8e2-002248255721/landingpageforms'
         data-cached-form-url='https://assets-usa.mkt.dynamics.com/a5c45657-1ed4-ef11-b8e2-002248255721/digitalassets/forms/f381cbbb-9f2f-f011-8c4d-6045bdeedf2c'></div>
    <script src='https://cxppusa1formui01cdnsa01-endpoint.azureedge.net/usa/FormLoader/FormLoader.bundle.js'></script>s
    <script>
        function callFlow() {

            var url = "https://prod-25.australiasoutheast.logic.azure.com:443/workflows/3ef5da66dde54d68991e7c554af0223c/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=F8wP_krGvGeiHIsS1R3ZcHAmClogSmiLVQNPCblS5ic";

            var requestBody = JSON.stringify({
                "firstname": "nishu",
                "lastname": "rana",
                "email": "nishant_bliss@hotmail.com",
                "phonenumber": "+6400911222",
                "requestedregion": "Northland",
                "enquirertype": "Myself", vi
                    "description": "Interested in learning more about your product features and pricing."
            });

            var xhr = new XMLHttpRequest();
            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");

            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    document.getElementById("response").innerText = "Response: " + xhr.responseText;
                }
            };

            xhr.send(requestBody);
        }
    </script>
</body>
</html>
